{"version":3,"file":"static/js/515.a7291ddb.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/LoadMoreBtn/LoadMoreBtn.module.css?7c53","components/LoadMoreBtn/LoadMoreBtn.jsx","webpack://react-homework-template/./src/components/Searchbar/Searchbar.module.css?8d9e","components/Searchbar/Searchbar.jsx","api/searchMovies.js","pages/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"button\":\"LoadMoreBtn_button__wacIM\"};","import css from \"./LoadMoreBtn.module.css\"\n\nconst LoadMoreBtn = ({fn}) => {\n  return (\n    <button className={css.button} type=\"button\" onClick={fn}>Load more</button>\n  )\n}\n\nexport default LoadMoreBtn","// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"Searchbar_searchbar__0FWoU\",\"descriptions\":\"Searchbar_descriptions__9LchU\",\"title\":\"Searchbar_title__jaMqM\",\"subtitle\":\"Searchbar_subtitle__myeXV\",\"form\":\"Searchbar_form__D-hp5\",\"input\":\"Searchbar_input__19umw\",\"button\":\"Searchbar_button__nkcjk\"};","import { useEffect } from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\n\nimport css from \"./Searchbar.module.css\"\n\nconst Searchbar = ({submit}) => {\n\n    const[searchParams, setSearchParams ]=useSearchParams();\n\n    const handleOnSubmit = (e) => {\n        e.preventDefault();\n        submit();\n        const keyWord = e.target.elements.search.value;\n        setSearchParams({ query: keyWord });\n    }\n    \n    useEffect(() => {\n        const input = document.querySelector(\"input\");\n        input.value = searchParams.get('query');\n    }, [searchParams])\n\n\n  return (\n      <div className={css.searchbar}>\n              <div className={css.descriptions}>\n                  <p className={css.title}>Welcome</p>\n                  <p className={css.subtitle}>Millions of movies, TV shows and personalities. Explore now.</p>\n              </div>\n              <form onSubmit={handleOnSubmit} className={css.form}>\n                <input\n                    className={css.input}\n                    name='search'\n                    type=\"text\"\n                    autoFocus\n                    placeholder=\"Search movies\"\n                />\n                  \n                <button type=\"submit\" className={css.button}>\n                    <span>Search</span>\n                </button>\n                </form>\n        </div>\n        )\n}\n\nexport default Searchbar;","import instance from \"./api\";\n\nconst getSearchMovies = async(qwery,page) => {\n    const { data } = await instance('/search/movie', {\n    params: {\n        query: qwery,\n        page: page,\n  },});\n    return data;\n}\n\nexport default getSearchMovies\n","import { useCallback, useEffect, useState } from \"react\";\nimport { Loading } from 'notiflix/build/notiflix-loading-aio';\nimport { useSearchParams } from \"react-router-dom\";\n\nimport Error from \"components/Error/Error\";\nimport Searchbar from \"components/Searchbar/Searchbar\";\nimport ProductList from \"components/ProductList/ProductList\";\nimport Container from \"components/Container/Container\";\nimport LoadMoreBtn from \"components/LoadMoreBtn/LoadMoreBtn\";\nimport Section from \"components/Section/Section\";\n\nimport getSearchMovies from \"api/searchMovies\"\n\nconst Movies = () => {\n  const [page, setPage] = useState(1);\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(\"\");\n  const [isEnd, setIsEnd] = useState(false);\n  const [isEmpty, setIsEmpty] = useState(false);\n\n  const [searchParams] = useSearchParams();\n\n  const handleOnSearch = () => {\n    setMovies([]);\n  }\n\n  const getData = useCallback( async (qwery) => {\n    if (!qwery) return;\n        try {\n          Loading.circle()\n          setError(\"\");\n          const response = await getSearchMovies(qwery,page);\n          if (page === 1) {\n             setMovies([...response.results]);\n          }\n          if (page > 1) {\n            setMovies(prev => [...prev, ...response.results]);\n          }\n          if (page >= response.total_pages) {\n            setIsEnd(true)\n          }\n          if (!response.total_results) {\n            setIsEmpty(true)\n          }\n    } catch (error) {\n      console.log(error.message);\n      setError(error.message);\n    }finally {\n      Loading.remove(300);\n    }\n  }, [page])\n\n  useEffect(() => {\n    const qwery = searchParams.get('query');\n    getData(qwery)\n    }, [getData, searchParams])\n  \n  const loadMore = () => {\n    setPage((prev => prev + 1))\n  }\n\n  return (\n    <>\n      {error && <Error>{error}</Error>}\n      <Section>\n        <Container>\n          <Searchbar submit={handleOnSearch} />\n          {isEmpty && <Error>There is no results</Error>}\n          {movies.length !== 0 && <ProductList data={movies} />}\n          {movies.length !== 0 && !isEnd && <LoadMoreBtn fn={loadMore} />}\n        </Container>\n    </Section>\n    </>\n  )\n}\n\nexport default Movies"],"names":["_ref","fn","_jsx","className","css","type","onClick","children","submit","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchParams","setSearchParams","useEffect","document","querySelector","value","get","_jsxs","onSubmit","e","preventDefault","keyWord","target","elements","search","query","name","autoFocus","placeholder","getSearchMovies","_asyncToGenerator","_regeneratorRuntime","_callee","qwery","page","_yield$instance","data","_context","prev","next","instance","params","sent","abrupt","stop","_x","_x2","apply","arguments","_useState","useState","_useState2","setPage","_useState3","_useState4","movies","setMovies","_useState5","_useState6","error","setError","_useState7","_useState8","isEnd","setIsEnd","_useState9","_useState10","isEmpty","setIsEmpty","getData","useCallback","response","Loading","_toConsumableArray","results","concat","total_pages","total_results","t0","console","log","message","finish","_Fragment","Error","Section","Container","Searchbar","length","ProductList","LoadMoreBtn"],"sourceRoot":""}