{"version":3,"file":"static/js/515.fe454872.chunk.js","mappings":"0IAEMA,E,OAAWC,EAAAA,OAAa,CAC1BC,QAAS,+BACTC,SAAU,UAGdH,EAASI,SAASC,QAAQC,OAAsB,cAAI,6NAEpD,K,sDCRA,MAAyB,4B,SCOzB,EANoB,SAAHC,GAAc,IAATC,EAAED,EAAFC,GACpB,OACEC,EAAAA,EAAAA,KAAA,UAAQC,UAAWC,EAAYC,KAAK,SAASC,QAASL,EAAGM,SAAC,aAE9D,C,sDCLA,MAAuB,mBAAvB,EAAkD,oB,SCOlD,EANa,SAAHP,GAAiB,IAAZQ,EAAKR,EAALQ,MACb,OACIN,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAASG,UAACL,EAAAA,EAAAA,KAAA,KAAGC,UAAWC,EAAUG,SAAEC,KAE1D,C,4FCLA,EAAuB,0BAAvB,EAA0D,4BAA1D,EAA4F,yBAA5F,EAA6H,2BAA7H,EAA+J,0BAA/J,EAAkM,4B,SCuBlM,EAlBoB,SAAHR,GAA0E,IAADS,EAAAT,EAAnEU,KAAQC,EAAEF,EAAFE,GAAIC,EAAWH,EAAXG,YAAaJ,EAAKC,EAALD,MAAOK,EAAYJ,EAAZI,aAAcC,EAAYL,EAAZK,aAC3DC,GAAWC,EAAAA,EAAAA,MACbC,EAAO,IAAIC,KAAKL,GACtB,OACIX,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAASG,UACpBY,EAAAA,EAAAA,MAACC,EAAAA,GAAI,CAACC,GAAE,WAAAC,OAAaX,GAAMY,MAAOR,EAASR,SAAA,EACvCY,EAAAA,EAAAA,MAAA,OAAKhB,UAAWC,EAAWG,SAAA,CACtBK,IAAeV,EAAAA,EAAAA,KAAA,OAAKsB,IAAG,kCAAAF,OAAoCV,GAAea,IAAKjB,EAAOL,UAAWC,KAChGQ,IAAeV,EAAAA,EAAAA,KAACwB,EAAAA,EAAI,CAAClB,MAAOA,OAEjCS,IAAQf,EAAAA,EAAAA,KAAA,KAAGC,UAAWC,EAASG,SAAEU,EAAKU,iBACvCzB,EAAAA,EAAAA,KAAC0B,EAAAA,EAAK,CAACzB,UAAWC,EAAWyB,MAAO,EAAGrB,MAAOA,IAC7CM,IAAgBZ,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAWG,SAAEO,EAAagB,QAAQ,SAIjF,ECrBA,EAAuB,0BCUvB,EARoB,SAAH9B,GAAgB,IAAXU,EAAIV,EAAJU,KACpB,OACER,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAASG,SACjBG,EAAKqB,KAAI,SAAAC,GAAI,OAAI9B,EAAAA,EAAAA,KAAC+B,EAAW,CAAevB,KAAMsB,GAAfA,EAAKrB,GAAkB,KAGrE,C,sDCRA,MAAwB,qB,SCOxB,EANqB,SAAHX,GAAsB,IAAhBO,EAAQP,EAARO,SACpB,OACIL,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAUG,SAAEA,GAEpC,C,sDCLA,MAA0B,yB,SCO1B,EANgB,SAAHP,GAAsB,IAAhBO,EAAQP,EAARO,SACjB,OACIL,EAAAA,EAAAA,KAAA,WAASC,UAAWC,EAAYG,SAAEA,GAExC,C,kCCCA,IAPc,SAAHP,GAAwC,IAAlC6B,EAAK7B,EAAL6B,MAAOrB,EAAKR,EAALQ,MAAK0B,EAAAlC,EAAEG,UAAAA,OAAS,IAAA+B,EAAC,GAAEA,EACjCC,EAAS,IAAAb,OAAOO,GACxB,OACI3B,EAAAA,EAAAA,KAACiC,EAAS,CAAChC,UAAWA,EAAUI,SAAEC,GAExC,C,uJCJA,EAA4B,6BAA5B,EAAwE,gCAAxE,EAAgH,yBAAhH,EAAoJ,4BAApJ,EAAuL,wBAAvL,EAAuN,yBAAvN,EAAyP,0B,SC4CzP,EAxCkB,SAAHR,GAAkB,IAAboC,EAAMpC,EAANoC,OAEhBC,GAAsCC,EAAAA,EAAAA,MAAiBC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAjDI,EAAYF,EAAA,GAAEG,EAAeH,EAAA,GAerC,OANEI,EAAAA,EAAAA,YAAU,WACQC,SAASC,cAAc,SAC/BC,MAAQL,EAAaM,IAAI,QACnC,GAAG,CAACN,KAIFtB,EAAAA,EAAAA,MAAA,OAAKhB,UAAWC,EAAcG,SAAA,EACtBY,EAAAA,EAAAA,MAAA,OAAKhB,UAAWC,EAAiBG,SAAA,EAC7BL,EAAAA,EAAAA,KAAA,KAAGC,UAAWC,EAAUG,SAAC,aACzBL,EAAAA,EAAAA,KAAA,KAAGC,UAAWC,EAAaG,SAAC,qEAEhCY,EAAAA,EAAAA,MAAA,QAAM6B,SAnBO,SAACC,GACpBA,EAAEC,iBACFd,IACA,IAAMe,EAAUF,EAAEG,OAAOC,SAASC,OAAOR,MACzCJ,EAAgB,CAAEa,MAAOJ,GAC7B,EAc0ChD,UAAWC,EAASG,SAAA,EAClDL,EAAAA,EAAAA,KAAA,SACIC,UAAWC,EACXoD,KAAK,SACLnD,KAAK,OACLoD,WAAS,EACTC,YAAY,mBAGhBxD,EAAAA,EAAAA,KAAA,UAAQG,KAAK,SAASF,UAAWC,EAAWG,UACxCL,EAAAA,EAAAA,KAAA,QAAAK,SAAM,kBAK1B,E,6CCzCMoD,EAAe,eAAA3D,GAAA4D,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,EAAMC,EAAMC,GAAI,IAAAC,EAAAvD,EAAA,OAAAmD,IAAAA,MAAA,SAAAK,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,GACb3E,EAAAA,EAAAA,GAAS,gBAAiB,CACjD4E,OAAQ,CACJd,MAAOQ,EACPC,KAAMA,KACP,KAAD,EAJU,OAIVC,EAAAC,EAAAI,KAJM5D,EAAIuD,EAAJvD,KAAIwD,EAAAK,OAAA,SAKL7D,GAAI,wBAAAwD,EAAAM,OAAA,GAAAV,EAAA,KACd,gBAPoBW,EAAAC,GAAA,OAAA1E,EAAA2E,MAAA,KAAAC,UAAA,KASrB,ICiEA,EA/De,WACb,IAAAC,GAAwBC,EAAAA,EAAAA,UAAS,GAAEC,GAAAvC,EAAAA,EAAAA,GAAAqC,EAAA,GAA5Bb,EAAIe,EAAA,GAAEC,EAAOD,EAAA,GACpBE,GAA4BH,EAAAA,EAAAA,UAAS,IAAGI,GAAA1C,EAAAA,EAAAA,GAAAyC,EAAA,GAAjCE,EAAMD,EAAA,GAAEE,EAASF,EAAA,GACxBG,GAA0BP,EAAAA,EAAAA,UAAS,IAAGQ,GAAA9C,EAAAA,EAAAA,GAAA6C,EAAA,GAA/BE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACtBG,GAA0BX,EAAAA,EAAAA,WAAS,GAAMY,GAAAlD,EAAAA,EAAAA,GAAAiD,EAAA,GAAlCE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACtBG,GAA8Bf,EAAAA,EAAAA,WAAS,GAAMgB,GAAAtD,EAAAA,EAAAA,GAAAqD,EAAA,GAAtCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAE1BzD,GAAuBC,EAAAA,EAAAA,MAAhBG,GAAiCD,EAAAA,EAAAA,GAAAH,EAAA,GAArB,GAMb4D,GAAUC,EAAAA,EAAAA,aAAW,eAAAlG,GAAA4D,EAAAA,EAAAA,GAAAC,IAAAA,MAAE,SAAAC,EAAOC,GAAK,IAAAoC,EAAA,OAAAtC,IAAAA,MAAA,SAAAK,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAClCL,EAAM,CAADG,EAAAE,KAAA,eAAAF,EAAAK,OAAA,iBAGS,OAHTL,EAAAC,KAAA,EAEJiC,EAAAA,QAAAA,SACAZ,EAAS,IAAItB,EAAAE,KAAA,EACUT,EAAgBI,EAAMC,GAAM,KAAD,EAA5CmC,EAAQjC,EAAAI,KACD,IAATN,GACDoB,GAASiB,EAAAA,EAAAA,GAAKF,EAASG,UAEtBtC,EAAO,GACToB,GAAU,SAAAjB,GAAI,SAAA7C,QAAA+E,EAAAA,EAAAA,GAAQlC,IAAIkC,EAAAA,EAAAA,GAAKF,EAASG,SAAO,IAE7CtC,GAAQmC,EAASI,aACnBX,GAAS,GAENO,EAASK,eACZR,GAAW,GACZ9B,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAuC,GAAAvC,EAAA,SAELwC,QAAQC,IAAIzC,EAAAuC,GAAMG,SAClBpB,EAAStB,EAAAuC,GAAMG,SAAS,QAEJ,OAFI1C,EAAAC,KAAA,GAExBiC,EAAAA,QAAAA,OAAe,KAAKlC,EAAA2C,OAAA,6BAAA3C,EAAAM,OAAA,GAAAV,EAAA,yBAEvB,gBAAAW,GAAA,OAAAzE,EAAA2E,MAAA,KAAAC,UAAA,EAxB0B,GAwBxB,CAACZ,KAEJrB,EAAAA,EAAAA,YAAU,WACR,IAAMoB,EAAQtB,EAAaM,IAAI,SAC/BkD,EAAQlC,EACR,GAAG,CAACkC,EAASxD,IAMf,OACEtB,EAAAA,EAAAA,MAAA2F,EAAAA,SAAA,CAAAvG,SAAA,CACGgF,IAASrF,EAAAA,EAAAA,KAAC6G,EAAAA,EAAK,CAAAxG,SAAEgF,KAClBrF,EAAAA,EAAAA,KAAC8G,EAAAA,EAAO,CAAAzG,UACNY,EAAAA,EAAAA,MAAC8F,EAAAA,EAAS,CAAA1G,SAAA,EACRL,EAAAA,EAAAA,KAACgH,EAAS,CAAC9E,OA5CI,WACrBgD,EAAU,GACZ,IA2CSW,IAAW7F,EAAAA,EAAAA,KAAC6G,EAAAA,EAAK,CAAAxG,SAAC,wBACA,IAAlB4E,EAAOgC,SAAgBjH,EAAAA,EAAAA,KAACkH,EAAAA,EAAW,CAAC1G,KAAMyE,IACxB,IAAlBA,EAAOgC,SAAiBxB,IAASzF,EAAAA,EAAAA,KAACmH,EAAAA,EAAW,CAACpH,GAZtC,WACf+E,GAAS,SAAAb,GAAI,OAAIA,EAAO,CAAC,GAC3B,WAeF,C","sources":["api/api.js","webpack://react-homework-template/./src/components/LoadMoreBtn/LoadMoreBtn.module.css?7c53","components/LoadMoreBtn/LoadMoreBtn.jsx","webpack://react-homework-template/./src/components/Plug/Plug.module.css?1f14","components/Plug/Plug.jsx","webpack://react-homework-template/./src/components/ProductCard/ProductCard.module.css?8d00","components/ProductCard/ProductCard.jsx","webpack://react-homework-template/./src/components/ProductList/ProductList.module.css?41ce","components/ProductList/ProductList.jsx","webpack://react-homework-template/./src/components/reuse/Error/Error.module.css?8bca","components/reuse/Error/Error.jsx","webpack://react-homework-template/./src/components/reuse/Section/Section.module.css?7e2a","components/reuse/Section/Section.jsx","components/reuse/Title/Title.jsx","webpack://react-homework-template/./src/components/Searchbar/Searchbar.module.css?8d9e","components/Searchbar/Searchbar.jsx","api/searchMovies.js","pages/Movies.jsx"],"sourcesContent":["import axios from \"axios\";\n\nconst instance = axios.create({\n    baseURL: 'https://api.themoviedb.org/3',\n    language: 'en-US',\n});\n\ninstance.defaults.headers.common['Authorization'] = 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlM2U2NGFiODE5MGJkZDBjOTkyMTExZjMwMGQ0Nzg3NCIsInN1YiI6IjY1OWFkODZlYzk5NWVlMDBlY2ZhYzUzMSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.WZQy9rIvmjUGJiILYo0wHyKd1OFTLmjvuUWyJnQJ-C4';\n\nexport default instance;","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"LoadMoreBtn_button__wacIM\"};","import css from \"./LoadMoreBtn.module.css\"\n\nconst LoadMoreBtn = ({fn}) => {\n  return (\n    <button className={css.button} type=\"button\" onClick={fn}>Load more</button>\n  )\n}\n\nexport default LoadMoreBtn","// extracted by mini-css-extract-plugin\nexport default {\"plug\":\"Plug_plug__3hvc0\",\"title\":\"Plug_title__xPTDJ\"};","import css from \"./Plug.module.css\"\n\nconst Plug = ({title}) => {\n  return (\n      <div className={css.plug}><p className={css.title}>{title}</p></div>\n  )\n}\n\nexport default Plug","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"ProductCard_card__Fvveu\",\"poster\":\"ProductCard_poster__ISWvY\",\"img\":\"ProductCard_img__M8sOj\",\"title\":\"ProductCard_title__4Ju2t\",\"text\":\"ProductCard_text__aThm0\",\"rating\":\"ProductCard_rating__gS0uf\"};","import { Link, useLocation } from \"react-router-dom\"\n\nimport Plug from \"components/Plug/Plug\";\nimport Title from \"components/reuse/Title/Title\";\nimport css from \"./ProductCard.module.css\"\n\nconst ProductCard = ({ data: { id, poster_path, title, release_date, vote_average } }) => {\n    const location = useLocation();\n    let date = new Date(release_date);\n  return (\n      <li className={css.card}>\n          <Link to={`/movies/${id}`} state={location}>\n              <div className={css.poster}>\n                  {poster_path && <img src={`https://image.tmdb.org/t/p/w500${poster_path}`} alt={title} className={css.img} />}\n                  {!poster_path && <Plug title={title} />}\n              </div>\n              {date && <p className={css.text}>{date.getFullYear()}</p>}\n              <Title className={css.title} level={3} title={title}/>\n              {vote_average && <div className={css.rating}>{vote_average.toFixed(1)}</div>}\n          </Link>\n    </li>\n  )\n}\n\nexport default ProductCard","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"ProductList_list__bk8G8\"};","import ProductCard from \"components/ProductCard/ProductCard\"\nimport css from \"./ProductList.module.css\"\n\nconst ProductList = ({data}) => {\n  return (\n    <ul className={css.list}>\n          {data.map(item => <ProductCard key={item.id} data={item} />)}     \n    </ul>\n  )\n}\n\nexport default ProductList","// extracted by mini-css-extract-plugin\nexport default {\"error\":\"Error_error__I8Vt2\"};","import css from \"./Error.module.css\"\n\nexport const Error = ({ children }) => {\n    return (\n        <div className={css.error}>{children}</div>\n    )\n}\n\nexport default Error;","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"Section_section__Wxp7j\"};","import css from \"./Section.module.css\"\n\nconst Section = ({ children }) => {\n  return (\n      <section className={css.section}>{children}</section>\n  )\n}\n\nexport default Section","const Title = ({ level, title, className=\"\" }) => {\n    const CustomTag = `h${level}`;\n  return (\n      <CustomTag className={className}>{title}</CustomTag>\n  )\n}\n\nexport default Title","// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"Searchbar_searchbar__0FWoU\",\"descriptions\":\"Searchbar_descriptions__9LchU\",\"title\":\"Searchbar_title__jaMqM\",\"subtitle\":\"Searchbar_subtitle__myeXV\",\"form\":\"Searchbar_form__D-hp5\",\"input\":\"Searchbar_input__19umw\",\"button\":\"Searchbar_button__nkcjk\"};","import { useEffect } from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\n\nimport css from \"./Searchbar.module.css\"\n\nconst Searchbar = ({submit}) => {\n\n    const[searchParams, setSearchParams ]=useSearchParams();\n\n    const handleOnSubmit = (e) => {\n        e.preventDefault();\n        submit();\n        const keyWord = e.target.elements.search.value;\n        setSearchParams({ query: keyWord });\n    }\n    \n    useEffect(() => {\n        const input = document.querySelector(\"input\");\n        input.value = searchParams.get('query');\n    }, [searchParams])\n\n\n  return (\n      <div className={css.searchbar}>\n              <div className={css.descriptions}>\n                  <p className={css.title}>Welcome</p>\n                  <p className={css.subtitle}>Millions of movies, TV shows and personalities. Explore now.</p>\n              </div>\n              <form onSubmit={handleOnSubmit} className={css.form}>\n                <input\n                    className={css.input}\n                    name='search'\n                    type=\"text\"\n                    autoFocus\n                    placeholder=\"Search movies\"\n                />\n                  \n                <button type=\"submit\" className={css.button}>\n                    <span>Search</span>\n                </button>\n                </form>\n        </div>\n        )\n}\n\nexport default Searchbar;","import instance from \"./api\";\n\nconst getSearchMovies = async(qwery,page) => {\n    const { data } = await instance('/search/movie', {\n    params: {\n        query: qwery,\n        page: page,\n  },});\n    return data;\n}\n\nexport default getSearchMovies\n","import { useCallback, useEffect, useState } from \"react\";\nimport { Loading } from 'notiflix/build/notiflix-loading-aio';\nimport { useSearchParams } from \"react-router-dom\";\n\nimport Error from \"components/reuse/Error/Error\";\nimport Searchbar from \"components/Searchbar/Searchbar\";\nimport ProductList from \"components/ProductList/ProductList\";\nimport Container from \"components/reuse/Container/Container\";\nimport LoadMoreBtn from \"components/LoadMoreBtn/LoadMoreBtn\";\nimport Section from \"components/reuse/Section/Section\";\n\nimport getSearchMovies from \"api/searchMovies\"\n\nconst Movies = () => {\n  const [page, setPage] = useState(1);\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(\"\");\n  const [isEnd, setIsEnd] = useState(false);\n  const [isEmpty, setIsEmpty] = useState(false);\n\n  const [searchParams] = useSearchParams();\n\n  const handleOnSearch = () => {\n    setMovies([]);\n  }\n\n  const getData = useCallback( async (qwery) => {\n    if (!qwery) return;\n        try {\n          Loading.circle()\n          setError(\"\");\n          const response = await getSearchMovies(qwery,page);\n          if (page === 1) {\n             setMovies([...response.results]);\n          }\n          if (page > 1) {\n            setMovies(prev => [...prev, ...response.results]);\n          }\n          if (page >= response.total_pages) {\n            setIsEnd(true)\n          }\n          if (!response.total_results) {\n            setIsEmpty(true)\n          }\n    } catch (error) {\n      console.log(error.message);\n      setError(error.message);\n    }finally {\n      Loading.remove(300);\n    }\n  }, [page])\n\n  useEffect(() => {\n    const qwery = searchParams.get('query');\n    getData(qwery)\n    }, [getData, searchParams])\n  \n  const loadMore = () => {\n    setPage((prev => prev + 1))\n  }\n\n  return (\n    <>\n      {error && <Error>{error}</Error>}\n      <Section>\n        <Container>\n          <Searchbar submit={handleOnSearch} />\n          {isEmpty && <Error>There is no results</Error>}\n          {movies.length !== 0 && <ProductList data={movies} />}\n          {movies.length !== 0 && !isEnd && <LoadMoreBtn fn={loadMore} />}\n        </Container>\n    </Section>\n    </>\n  )\n}\n\nexport default Movies"],"names":["instance","axios","baseURL","language","defaults","headers","common","_ref","fn","_jsx","className","css","type","onClick","children","title","_ref$data","data","id","poster_path","release_date","vote_average","location","useLocation","date","Date","_jsxs","Link","to","concat","state","src","alt","Plug","getFullYear","Title","level","toFixed","map","item","ProductCard","_ref$className","CustomTag","submit","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchParams","setSearchParams","useEffect","document","querySelector","value","get","onSubmit","e","preventDefault","keyWord","target","elements","search","query","name","autoFocus","placeholder","getSearchMovies","_asyncToGenerator","_regeneratorRuntime","_callee","qwery","page","_yield$instance","_context","prev","next","params","sent","abrupt","stop","_x","_x2","apply","arguments","_useState","useState","_useState2","setPage","_useState3","_useState4","movies","setMovies","_useState5","_useState6","error","setError","_useState7","_useState8","isEnd","setIsEnd","_useState9","_useState10","isEmpty","setIsEmpty","getData","useCallback","response","Loading","_toConsumableArray","results","total_pages","total_results","t0","console","log","message","finish","_Fragment","Error","Section","Container","Searchbar","length","ProductList","LoadMoreBtn"],"sourceRoot":""}