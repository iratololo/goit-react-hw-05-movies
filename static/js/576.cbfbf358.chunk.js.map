{"version":3,"file":"static/js/576.cbfbf358.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Cast/Cast.module.css?c9ee","api/credits.js","components/Cast/Cast.jsx","webpack://react-homework-template/./src/components/LoadMoreBtn/LoadMoreBtn.module.css?7c53","components/LoadMoreBtn/LoadMoreBtn.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"credits\":\"Cast_credits__gBBLA\",\"title\":\"Cast_title__0cH9s\",\"list\":\"Cast_list__GlWio\",\"item\":\"Cast_item__a0CDL\",\"poster\":\"Cast_poster__5f-RS\",\"img\":\"Cast_img__-isbW\",\"name\":\"Cast_name__6UbFm\",\"character\":\"Cast_character__tKDlA\"};","import instance from \"./api\";\n\nexport const getCredits = async(id) => {\n    const { data } = await instance(`/movie/${id}/credits`);\n    return data;\n}","import { useParams } from \"react-router-dom\"\nimport { useEffect,useState } from \"react\";\nimport { Loading } from 'notiflix/build/notiflix-loading-aio';\n\nimport Error from \"components/Error/Error\";\nimport Container from \"components/Container/Container\";\nimport LoadMoreBtn from \"components/LoadMoreBtn/LoadMoreBtn\";\nimport Plug from \"components/Plug/Plug\";\nimport css from \"./Cast.module.css\"\n\nimport { getCredits } from \"api/credits\";\n\nconst Cast = () => {\n    const { movieId } = useParams();\n    \n    const [showCredits, setShowCredits] = useState([]);\n    const [currentPage, setcurrentPage] = useState(0);\n    const [load, setLoad] = useState(false);\n    const [end, setEnd] = useState(false);\n    const [error, setError] = useState(\"\");\n    const [isEmpty, setIsEmpty] = useState(false);\n\n    const perPage = 12;\n\n    const loadMore = () => {\n        setcurrentPage((prev) => prev + 1);\n        setLoad(true);\n    }\n\n    useEffect(() => {\n        setLoad(false)\n        const start = perPage * (currentPage);\n        const end = start + perPage;\n        const getData = async () => {\n        try {\n            Loading.circle()\n            setError(\"\");\n            const { cast } = await getCredits(movieId);\n            if (cast.length === 0) {\n                setIsEmpty(true)\n                return;\n            } \n            if (!showCredits.length) {\n                setShowCredits(cast.slice(start, end))\n            }\n            if (load) {\n                setShowCredits((prev)=> [...prev,...cast.slice(start, end)])\n            }\n            if (showCredits.length >= cast.length) {\n                setEnd(true)\n            }\n    } catch (error) {\n      console.log(error.message);\n      setError(error.message);\n    }finally {\n      Loading.remove(150);\n    }\n}\n\ngetData()\n     }, [movieId,showCredits,currentPage,load])\n\n    return (\n      <>\n        {isEmpty && <Error>There is no results</Error>}\n        {error && <Error>{error}</Error>}\n        {!isEmpty && <div className={css.credits}>\n          <Container>\n             <h4 className={css.title}>Starring</h4>\n              <ul className={css.list}>\n                {showCredits.map(({id,profile_path,name,character}) => {\n                  return (\n                    <li key={id} className={css.item}>\n                      <div className={css.poster}>\n                        {profile_path && <img src={`https://image.tmdb.org/t/p/w500${profile_path}`} alt={name} className={css.img} />}\n                        {!profile_path && <Plug title={name} />}\n                      </div>\n                        <p className={css.name}>{name}</p>\n                        <p className={css.character}>{character}</p>\n                    </li> \n                  )\n                })}\n              </ul>\n              {showCredits.length >= perPage && !end && <LoadMoreBtn fn={loadMore} />}\n        </Container>\n            </div>}\n      </>\n  )\n}\n\nexport default Cast","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"LoadMoreBtn_button__wacIM\"};","import css from \"./LoadMoreBtn.module.css\"\n\nconst LoadMoreBtn = ({fn}) => {\n  return (\n    <button className={css.button} type=\"button\" onClick={fn}>Load more</button>\n  )\n}\n\nexport default LoadMoreBtn"],"names":["getCredits","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","id","_yield$instance","data","_context","prev","next","instance","concat","sent","abrupt","stop","_x","apply","arguments","movieId","useParams","_useState","useState","_useState2","_slicedToArray","showCredits","setShowCredits","_useState3","_useState4","currentPage","setcurrentPage","_useState5","_useState6","load","setLoad","_useState7","_useState8","end","setEnd","_useState9","_useState10","error","setError","_useState11","_useState12","isEmpty","setIsEmpty","useEffect","start","getData","_yield$getCredits","cast","Loading","length","slice","_toConsumableArray","t0","console","log","message","finish","_jsxs","_Fragment","children","_jsx","Error","className","css","Container","map","_ref2","profile_path","name","character","src","alt","Plug","title","LoadMoreBtn","fn","type","onClick"],"sourceRoot":""}