{"version":3,"file":"static/js/576.2ef5aebe.chunk.js","mappings":"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","sources":["api/api.js","webpack://react-homework-template/./src/components/Cast/Cast.module.css?c9ee","api/credits.js","components/Cast/Cast.jsx","webpack://react-homework-template/./src/components/LoadMoreBtn/LoadMoreBtn.module.css?7c53","components/LoadMoreBtn/LoadMoreBtn.jsx","webpack://react-homework-template/./src/components/Plug/Plug.module.css?1f14","components/Plug/Plug.jsx","webpack://react-homework-template/./src/components/reuse/Error/Error.module.css?8bca","components/reuse/Error/Error.jsx","webpack://react-homework-template/./src/components/reuse/Section/Section.module.css?7e2a","components/reuse/Section/Section.jsx"],"sourcesContent":["import axios from \"axios\";\n\nconst instance = axios.create({\n    baseURL: 'https://api.themoviedb.org/3',\n    language: 'en-US',\n});\n\ninstance.defaults.headers.common['Authorization'] = 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlM2U2NGFiODE5MGJkZDBjOTkyMTExZjMwMGQ0Nzg3NCIsInN1YiI6IjY1OWFkODZlYzk5NWVlMDBlY2ZhYzUzMSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.WZQy9rIvmjUGJiILYo0wHyKd1OFTLmjvuUWyJnQJ-C4';\n\nexport default instance;","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"Cast_title__0cH9s\",\"list\":\"Cast_list__GlWio\",\"item\":\"Cast_item__a0CDL\",\"poster\":\"Cast_poster__5f-RS\",\"img\":\"Cast_img__-isbW\",\"name\":\"Cast_name__6UbFm\",\"character\":\"Cast_character__tKDlA\"};","import instance from \"./api\";\n\nexport const getCredits = async(id) => {\n    const { data } = await instance(`/movie/${id}/credits`);\n    return data;\n}","import { useParams } from \"react-router-dom\"\nimport { useEffect,useState } from \"react\";\nimport { Loading } from 'notiflix/build/notiflix-loading-aio';\n\nimport Section from \"components/reuse/Section/Section\";\nimport Error from \"components/reuse/Error/Error\";\nimport Container from \"components/reuse/Container/Container\";\nimport LoadMoreBtn from \"components/LoadMoreBtn/LoadMoreBtn\";\nimport Plug from \"components/Plug/Plug\";\nimport css from \"./Cast.module.css\"\n\nimport { getCredits } from \"api/credits\";\n\nconst Cast = () => {\n    const { movieId } = useParams();\n    \n    const [showCredits, setShowCredits] = useState([]);\n    const [currentPage, setcurrentPage] = useState(0);\n    const [load, setLoad] = useState(false);\n    const [end, setEnd] = useState(false);\n    const [error, setError] = useState(\"\");\n    const [isEmpty, setIsEmpty] = useState(false);\n\n    const perPage = 12;\n\n    const loadMore = () => {\n        setcurrentPage((prev) => prev + 1);\n        setLoad(true);\n    }\n\n    useEffect(() => {\n        setLoad(false)\n        const start = perPage * (currentPage);\n        const end = start + perPage;\n        const getData = async () => {\n        try {\n            Loading.circle()\n            setError(\"\");\n            const { cast } = await getCredits(movieId);\n            if (cast.length === 0) {\n                setIsEmpty(true)\n                return;\n            } \n            if (!showCredits.length) {\n                setShowCredits(cast.slice(start, end))\n            }\n            if (load) {\n                setShowCredits((prev)=> [...prev,...cast.slice(start, end)])\n            }\n            if (showCredits.length >= cast.length) {\n                setEnd(true)\n            }\n    } catch (error) {\n      console.log(error.message);\n      setError(error.message);\n    }finally {\n      Loading.remove(150);\n    }\n}\n\ngetData()\n     }, [movieId,showCredits,currentPage,load])\n\n    return (\n      <Section>\n        {isEmpty && <Error>There is no results</Error>}\n        {error && <Error>{error}</Error>}\n        {!isEmpty && <div>\n          <Container>\n             <div className={css.title}>Starring</div>\n              <ul className={css.list}>\n                {showCredits.map(({id,profile_path,name,character}) => {\n                  return (\n                    <li key={id} className={css.item}>\n                      <div className={css.poster}>\n                        {profile_path && <img src={`https://image.tmdb.org/t/p/w500${profile_path}`} alt={name} className={css.img} />}\n                        {!profile_path && <Plug title={name} />}\n                      </div>\n                        <p className={css.name}>{name}</p>\n                        <p className={css.character}>{character}</p>\n                    </li> \n                  )\n                })}\n              </ul>\n              {showCredits.length >= perPage && !end && <LoadMoreBtn fn={loadMore} />}\n        </Container>\n            </div>}\n      </Section>\n  )\n}\n\nexport default Cast","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"LoadMoreBtn_button__wacIM\"};","import css from \"./LoadMoreBtn.module.css\"\n\nconst LoadMoreBtn = ({fn}) => {\n  return (\n    <button className={css.button} type=\"button\" onClick={fn}>Load more</button>\n  )\n}\n\nexport default LoadMoreBtn","// extracted by mini-css-extract-plugin\nexport default {\"plug\":\"Plug_plug__3hvc0\",\"title\":\"Plug_title__xPTDJ\"};","import css from \"./Plug.module.css\"\n\nconst Plug = ({title}) => {\n  return (\n      <div className={css.plug}><p className={css.title}>{title}</p></div>\n  )\n}\n\nexport default Plug","// extracted by mini-css-extract-plugin\nexport default {\"error\":\"Error_error__I8Vt2\"};","import css from \"./Error.module.css\"\n\nexport const Error = ({ children }) => {\n    return (\n        <div className={css.error}>{children}</div>\n    )\n}\n\nexport default Error;","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"Section_section__Wxp7j\"};","import css from \"./Section.module.css\"\n\nconst Section = ({ children }) => {\n  return (\n      <section className={css.section}>{children}</section>\n  )\n}\n\nexport default Section"],"names":["instance","axios","baseURL","language","defaults","headers","common","getCredits","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","id","_yield$instance","data","_context","prev","next","concat","sent","abrupt","stop","_x","apply","arguments","movieId","useParams","_useState","useState","_useState2","_slicedToArray","showCredits","setShowCredits","_useState3","_useState4","currentPage","setcurrentPage","_useState5","_useState6","load","setLoad","_useState7","_useState8","end","setEnd","_useState9","_useState10","error","setError","_useState11","_useState12","isEmpty","setIsEmpty","useEffect","start","getData","_yield$getCredits","cast","Loading","length","slice","_toConsumableArray","t0","console","log","message","finish","_jsxs","Section","children","_jsx","Error","Container","className","css","map","_ref2","profile_path","name","character","src","alt","Plug","title","LoadMoreBtn","fn","type","onClick"],"sourceRoot":""}