"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[716],{713:function(e,n,t){var r=t(340).Z.create({baseURL:"https://api.themoviedb.org/3",language:"en-US"});r.defaults.headers.common.Authorization="Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlM2U2NGFiODE5MGJkZDBjOTkyMTExZjMwMGQ0Nzg3NCIsInN1YiI6IjY1OWFkODZlYzk5NWVlMDBlY2ZhYzUzMSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.WZQy9rIvmjUGJiILYo0wHyKd1OFTLmjvuUWyJnQJ-C4",n.Z=r},812:function(e,n,t){t.d(n,{Z:function(){return c}});var r="LoadMoreBtn_button__wacIM",a=t(184),c=function(e){var n=e.fn;return(0,a.jsx)("button",{className:r,type:"button",onClick:n,children:"Load more"})}},716:function(e,n,t){t.r(n),t.d(n,{default:function(){return J}});var r=t(433),a=t(861),c=t(439),s=t(757),o=t.n(s),i=t(689),u=t(791),l=t(742),d=t(637),h=t(866),f=t(270),v=t(812),m="Review_item__8gQhI",_="Review_name__UP6hB",p="Review_text__V5p6q",x="Review_button__mFW71",Z=t(184),j=function(e){var n=e.data,t=n.author,r=n.content,a=e.showModal;return(0,Z.jsxs)("li",{className:m,children:[(0,Z.jsx)("p",{className:_,children:t}),(0,Z.jsx)("p",{className:p,children:r}),(0,Z.jsx)("button",{onClick:function(){a({author:t,content:r})},type:"button",className:x,children:"See more"})]})},w="Modal_modal__DJDMv",k="Modal_content__gGb69",N="Modal_name__d6D1e",M="Modal_text__KJZTz",b=function(e){var n=e.data,t=n.author,r=n.content,a=e.closeModal;return(0,u.useEffect)((function(){var e=function(e){"Escape"===e.code&&a()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[a]),(0,Z.jsx)("div",{onClick:a,className:w,children:(0,Z.jsxs)("div",{className:k,children:[(0,Z.jsx)("p",{className:N,children:t}),(0,Z.jsx)("p",{className:M,children:r})]})})},g="Reviews_list__okdpy",I=t(713),y=function(){var e=(0,a.Z)(o().mark((function e(n){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,I.Z)("/movie/".concat(n,"/reviews"));case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),J=function(){var e=(0,i.UO)().movieId,n=(0,u.useState)([]),t=(0,c.Z)(n,2),s=t[0],m=t[1],_=(0,u.useState)(0),p=(0,c.Z)(_,2),x=p[0],w=p[1],k=(0,u.useState)(!1),N=(0,c.Z)(k,2),M=N[0],I=N[1],J=(0,u.useState)(!1),S=(0,c.Z)(J,2),L=S[0],C=S[1],U=(0,u.useState)(""),W=(0,c.Z)(U,2),z=W[0],E=W[1],O=(0,u.useState)(!1),D=(0,c.Z)(O,2),G=D[0],B=D[1],Q=(0,u.useState)(!1),R=(0,c.Z)(Q,2),Y=R[0],T=R[1],F=(0,u.useState)(null),V=(0,c.Z)(F,2),K=V[0],q=V[1],A=function(e){T(!0),q(e)};return(0,u.useEffect)((function(){I(!1);var n=5*x,t=n+5,c=function(){var c=(0,a.Z)(o().mark((function a(){var c,i;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,l.Loading.circle(),E(""),a.next=5,y(e);case 5:if(c=a.sent,0!==(i=c.results).length){a.next=10;break}return B(!0),a.abrupt("return");case 10:s.length||m(i.slice(n,t)),M&&m((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(i.slice(n,t)))})),s.length>=i.length&&C(!0),a.next=19;break;case 15:a.prev=15,a.t0=a.catch(0),console.log(a.t0.message),E(a.t0.message);case 19:return a.prev=19,l.Loading.remove(150),a.finish(19);case 22:case"end":return a.stop()}}),a,null,[[0,15,19,22]])})));return function(){return c.apply(this,arguments)}}();c()}),[e,s,x,M]),(0,Z.jsxs)(d.Z,{children:[G&&(0,Z.jsx)(h.Z,{children:"There is no reviews"}),z&&(0,Z.jsx)(h.Z,{children:z}),!G&&(0,Z.jsx)("div",{children:(0,Z.jsxs)(f.Z,{children:[(0,Z.jsx)("ul",{className:g,children:s.map((function(e){return(0,Z.jsx)(j,{data:e,showModal:A},e.id)}))}),s.length>=5&&!L&&(0,Z.jsx)(v.Z,{fn:function(){w((function(e){return e+1})),I(!0)}})]})}),Y&&(0,Z.jsx)(b,{closeModal:function(){T(!1),q(null)},data:K})]})}},866:function(e,n,t){t.d(n,{Z:function(){return c}});var r="Error_error__I8Vt2",a=t(184),c=function(e){var n=e.children;return(0,a.jsx)("div",{className:r,children:n})}},637:function(e,n,t){t.d(n,{Z:function(){return c}});var r="Section_section__Wxp7j",a=t(184),c=function(e){var n=e.children;return(0,a.jsx)("section",{className:r,children:n})}}}]);
//# sourceMappingURL=716.4876c101.chunk.js.map